<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">
    <title>VigilentEye</title>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-left">
            <a href="{{ url_for('index') }}">Input</a>
            <a href="{{ url_for('output') }}">Output</a>
        </div>
        <div class="navbar-right">
            <a href="{{ url_for('settings') }}">Settings</a>
        </div>
    </nav>
    <h1>Input</h1>
    <form method="POST" action="{{ url_for('submit_form') }}">
        <label for="target">Target:</label>
        <input type="text" id="target" name="target" oninput="updateCheckboxes()"><br><br>
        <div class="checkboxes">
            <input type="checkbox" id="ipv4" name="ipv4" value="ipv4" checked>
            <label for="ping" id="ipv4">ipv4</label><br>
            <input type="checkbox" id="ipv6" name="ipv6" value="ipv6" checked>
            <label for="trace" id="ipv6">ipv6</label><br><br>
        </div>
        <input type="checkbox" id="trace" name="trace" value="trace">
        <label for="ping">Ping</label><br><br>
        <button type="submit">Submit</button>
    </form>
    
    <script>
    function updateCheckboxes() {
        var targetInput = document.getElementById("target");
        var ipv4Checkbox = document.getElementById("ipv4");
        var ipv6Checkbox = document.getElementById("ipv6");
    

        var isIPv4 = /(?:[0-9]{1,3}\.){3}[0-9]{1,3}/.test(targetInput.value);
        var isIPv6 = /^([0-9a-fA-F]{0,4}:){2,7}[0-9a-fA-F]{1,4}$/.test(targetInput.value);

        ipv4Checkbox.disabled = isIPv6;
        ipv6Checkbox.disabled = isIPv4;
        if (ipv4Checkbox.disabled) {
            ipv4Checkbox.checked = false;
            ipv6Checkbox.checked = true;
        }
        if (ipv6Checkbox.disabled) {
            ipv6Checkbox.checked = false;
            ipv4Checkbox.checked = true;
        }
    }
    </script>

</body>
</html>